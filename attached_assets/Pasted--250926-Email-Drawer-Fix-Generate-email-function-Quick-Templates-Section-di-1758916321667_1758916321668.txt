
<<<<<<< 250926_Email-Drawer_Fix-Generate-email-function
    {/* Quick Templates Section */}
    <div className="mt-8 pt-6 border-t">
      <QuickTemplates
        onSelectTemplate={(template: any) => {
          setEmailPrompt(template.description || "");
          setEmailContent(template.content);
          setEmailSubject(template.subject || "");
          setOriginalEmailPrompt(template.description || "");
          setOriginalEmailContent(template.content);
          setOriginalEmailSubject(template.subject || "");
        }}
        onSaveTemplate={handleSaveEmail}
        onUpdateTemplate={saveCurrentTemplate}
        onMergeFieldInsert={handleMergeFieldInsert}
        onEditTemplate={(template: any) => enterEditMode(template)}
        isEditMode={isEditMode}
        editingTemplateId={editingTemplateId}
        onExitEditMode={exitEditMode}
        isMergeViewMode={isMergeViewMode}
        onToggleMergeView={toggleMergeView}
        isSavingTemplate={updateMutation.isPending}
      />
=======
    {/* Quick Templates Section - Collapsible */}
    <div className="mt-3">
      {/* View Templates Toggle Button - Right aligned */}
      <div className="flex justify-end">
        <button
          onClick={() => setIsTemplatesExpanded(!isTemplatesExpanded)}
          className="flex items-center gap-1.5 px-2.5 py-1 text-xs text-muted-foreground hover:text-foreground transition-colors border border-border rounded-md"
        >
          <span>Templates</span>
          {isTemplatesExpanded ? (
            <ChevronUp className="w-3.5 h-3.5" />
          ) : (
            <ChevronDown className="w-3.5 h-3.5" />
          )}
        </button>
      </div>
      
      {/* Collapsible Templates Container */}
      <div className={cn(
        "overflow-hidden transition-all duration-300 ease-in-out",
        isTemplatesExpanded ? "max-h-[500px] opacity-100 mt-2" : "max-h-0 opacity-0"
      )}>
        <QuickTemplates
          onSelectTemplate={(template: EmailTemplate) => {
            setEmailPrompt(template.description || "");
            setEmailContent(template.content);
            setEmailSubject(template.subject || "");
            setOriginalEmailPrompt(template.description || "");
            setOriginalEmailContent(template.content);
            setOriginalEmailSubject(template.subject || "");
          }}
          onSaveTemplate={handleSaveEmail}
          onUpdateTemplate={saveCurrentTemplate}
          onMergeFieldInsert={handleMergeFieldInsert}
          onEditTemplate={enterEditMode}
          isEditMode={isEditMode}
          editingTemplateId={editingTemplateId}
          onExitEditMode={exitEditMode}
          isMergeViewMode={isMergeViewMode}
          onToggleMergeView={toggleMergeView}
          isSavingTemplate={updateMutation.isPending}
        />
      </div>
>>>>>>> 250708_main_v6
    </div>