Technical Instructions: Implementing Eye Button for Contact Navigation
Context
You are replacing a DropdownMenu with a direct Button that navigates to /contacts/:id. The button is inside a ContactRow component which has its own onClick handler (opens email drawer). You need to prevent the button click from bubbling to the parent.
Implementation Steps
1. In contact-action-column.tsx, structure the button like this:
import { Button } from "@/components/ui/button";
import { Eye } from "lucide-react";
import {
Tooltip,
TooltipContent,
TooltipProvider,
TooltipTrigger,
} from "@/components/ui/tooltip";

// Inside your component:
{handleContactView && (
<div onClick={(e) => e.stopPropagation()}>
<TooltipProvider delayDuration={300}>
<Tooltip>
<TooltipTrigger asChild>
<Button
variant="ghost"
size="sm"
className="h-6 w-6 p-0"
onClick={() => handleContactView(contact.id)}
data-testid={`button-view-contact-${contact.id}`}
>
<Eye className="h-3.5 w-3.5 text-muted-foreground" />
</Button>
</TooltipTrigger>
<TooltipContent>
<p>View Contact</p>
</TooltipContent>
</Tooltip>
</TooltipProvider>
</div>
)}

2. Key requirements:
* Wrap the entire Tooltip/Button structure in a <div onClick={(e) => e.stopPropagation()}>
* The wrapper div's onClick must call e.stopPropagation() to prevent the event from bubbling to the parent ContactRow
* The Button's onClick only needs to call the navigation function - no need for e.stopPropagation() on the Button itself since the wrapper handles it
* Keep the Tooltip inside the wrapper so tooltip interactions are also isolated
3. In the parent component (e.g., company-cards.tsx), pass the navigation handler:
handleContactView={(id) => setLocation(`/contacts/${id}`)}

Where setLocation comes from wouter's useLocation hook.
4. Do NOT modify ContactRow's onClick handler. The isolation is handled entirely by the wrapper div in the action column.
Why This Works
* The DropdownMenu previously worked because Radix UI renders dropdown content in a portal (outside the DOM tree), so clicks didn't bubble to parents
* The wrapper div with stopPropagation replicates this isolation for a direct button
* The event bubbles from Button → TooltipTrigger → Tooltip → TooltipProvider → Wrapper div (stops here) → Never reaches ContactRow
Pattern for Future Action Buttons
Any action button inside a clickable row should follow this pattern:
<div onClick={(e) => e.stopPropagation()}>
{/* Your button/interactive element here */}
</div>



