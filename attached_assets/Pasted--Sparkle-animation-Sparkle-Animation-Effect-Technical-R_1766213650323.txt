

Sparkle animation  Sparkle Animation Effect - Technical Rundown
Overview
A CSS transition-based particle effect that animates 3 staggered sparkles from a source position to a target position, with a "bounce" effect on the target element when particles arrive.
Core Function Pattern
function animateSparkle(startX, startY, endX, endY, targetElement) {
// Sparkle configuration: 3 particles with staggered timing
const sparkles = [
{ size: 20, delay: 0, offsetX: 0, offsetY: 0 },
{ size: 14, delay: 70, offsetX: -7, offsetY: 5 },
{ size: 10, delay: 140, offsetX: 6, offsetY: -4 }
];

sparkles.forEach((cfg, i) => {
setTimeout(() => {
const sparkle = document.createElement('div');
sparkle.style.cssText = `
position: fixed;
left: ${startX + cfg.offsetX}px;
top: ${startY + cfg.offsetY}px;
width: ${cfg.size}px;
height: ${cfg.size}px;
background: radial-gradient(circle,
rgba(255,255,255,0.9) 0%,
rgba(255,215,0,0.6) 40%,
transparent 70%);
border-radius: 50%;
pointer-events: none;
z-index: ${9999 - i};
box-shadow: 0 0 ${cfg.size/2}px rgba(255,215,0,0.6),
0 0 ${cfg.size}px rgba(255,180,0,0.4);
transition: left 1.1s cubic-bezier(0.25, 0.1, 0.25, 1),
top 1.1s cubic-bezier(0.25, 0.1, 0.25, 1),
transform 1.1s ease-out,
opacity 1.1s ease-out;
`;
document.body.appendChild(sparkle);

// Trigger animation on next frame
requestAnimationFrame(() => {
sparkle.style.left = endX + 'px';
sparkle.style.top = endY + 'px';
sparkle.style.transform = 'scale(0.5)';
sparkle.style.opacity = '0';
});

// Cleanup
setTimeout(() => sparkle.remove(), 1150);
}, cfg.delay);
});

// Optional: "bounce" on target element when particles arrive
if (targetElement) {
setTimeout(() => {
targetElement.style.transition = 'transform 0.2s ease-out';
targetElement.style.transform = 'scale(1.12)';
setTimeout(() => {
targetElement.style.transform = 'scale(1)';
}, 200);
}, 1100);
}
}

Key Implementation Details
Aspect	Value
Animation duration	1.1 seconds
Particle count	3 (staggered by 70ms each)
Easing	cubic-bezier(0.25, 0.1, 0.25, 1) - smooth ease-in-out
Visual style	Gold/white radial gradient with glow shadow
End behavior	Shrinks to 50% scale, fades to 0 opacity
How to Adapt for Any Layout
Step 1: Get source coordinates
const sourceRect = sourceElement.getBoundingClientRect();
const startX = sourceRect.left + sourceRect.width / 2;
const startY = sourceRect.top + sourceRect.height / 2;

Step 2: Get target coordinates (e.g., upper-right credit box)
const targetRect = creditBox.getBoundingClientRect();
const endX = targetRect.left + targetRect.width / 2;
const endY = targetRect.top + targetRect.height / 2;

Step 3: Call the function
animateSparkle(startX, startY, endX, endY, creditBox);

Optional: Sound Effect
function playCollectSound() {
const ctx = new (window.AudioContext || window.webkitAudioContext)();
const t = ctx.currentTime;

const osc = ctx.createOscillator();
const gain = ctx.createGain();

osc.type = 'sine';
osc.frequency.setValueAtTime(440, t);
osc.frequency.exponentialRampToValueAtTime(880, t + 0.1);

gain.gain.setValueAtTime(0.06, t);
gain.gain.exponentialRampToValueAtTime(0.001, t + 0.15);

osc.connect(gain);
gain.connect(ctx.destination);
osc.start(t);
osc.stop(t + 0.15);
}

Customization Options
* Color: Change rgba(255,215,0,...) (gold) to any color
* Speed: Adjust 1.1s transition duration
* Particle count: Add/remove entries in the sparkles array
* Glow intensity: Modify box-shadow blur values
* Trajectory curve: Adjust cubic-bezier values
